import {Note} from '../_component/note.jsx'

export const info = {
  author: [
    {github: 'wooorm', name: 'Titus Wormer'}
  ],
  modified: new Date('2025-01-27'),
  published: new Date('2021-10-06')
}
export const navSortSelf = 4

# Mở rộng MDX

Bài viết này giải thích cách mở rộng nội dung MDX—cụ thể là cách *chuyển đổi*
nội dung với các plugin. {/* more */}
Xem [§ Sử dụng MDX][use] để biết cách truyền components, props và layout.
Xem [§ Bắt đầu][start] để biết cách tích hợp MDX vào dự án của bạn.

## Nội dung

* [Components & plugins](#components--plugins)
  * [Danh sách components](#list-of-components)
  * [Danh sách plugins](#list-of-plugins)
* [Sử dụng plugins](#using-plugins)
* [Tạo plugins](#creating-plugins)

## Components & plugins

Có ba điểm mở rộng khi sử dụng `@mdx-js/mdx` hoặc một trong các
tích hợp của nó:

* Các tùy chọn được truyền cho trình biên dịch (xem [¶ API trong `@mdx-js/mdx`][api])
* Các plugin kết nối vào nhiều giai đoạn của quá trình biên dịch (xem [remark
  plugins][remark-plugins], [rehype plugins][rehype-plugins], và
  [recma plugins][recma-plugins])
* Các component được truyền, định nghĩa hoặc import tại runtime (xem [§ Sử dụng MDX][use])

Hầu hết thời gian, các component và plugin này không gắn kết với MDX.
Ví dụ, nếu bạn đang sử dụng React, bạn có thể sử dụng
[`<ReactConfetti />`][react-confetti] với MDX.
Hoặc, bạn có thể sử dụng plugin [`remark-gfm`][remark-gfm] để bật các tính năng GFM trong
MDX.
Đôi khi, chúng ta cần các component cụ thể hoặc các plugin cụ thể để hoạt động với MDX.
Chúng tôi đang tổng hợp chúng ở đây trên trang này.

### Danh sách components

* [`PaulieScanlon/mdx-embed`](https://github.com/PaulieScanlon/mdx-embed)
  — Các React component để nhúng nội dung bên thứ 3, tích hợp với
  MDX provider
* [`system-ui/theme-ui`](https://github.com/system-ui/theme-ui)
  — Các React component để xây dựng ứng dụng nhất quán, tích hợp với MDX provider

{/*
  * Vui lòng sắp xếp theo thứ tự bảng chữ cái theo tên **dự án**!
  * Bạn có thể sử dụng template này:
  *
  * ```markdown
  * * [`user/project`](https://github.com/user/project)
  *   — mô tả ngắn gọn về dự án
  * ```
  */}

<Note type="info">
  **Lưu ý**: Bạn có component khác *đặc biệt* hoạt động với MDX?
  Vui lòng gửi PR để thêm nó vào đây!
</Note>

### Danh sách plugins

Xem thêm [danh sách remark plugins][remark-plugins],
[danh sách rehype plugins][rehype-plugins], và
[danh sách recma plugins][recma-plugins].

* [`remcohaszing/recma-export-filepath`](https://github.com/remcohaszing/recma-export-filepath)
  — export đường dẫn file
* [`ipikuka/recma-mdx-change-props`](https://github.com/ipikuka/recma-mdx-change-props)
  — thay đổi tham số thành `_props` trong hàm `_createMdxContent`
* [`domdomegg/recma-mdx-displayname`](https://github.com/domdomegg/recma-mdx-displayname)
  — thêm `displayName` vào các component `MDXContent`, để cho phép chuyển đổi
  chúng trong production
* [`ipikuka/recma-mdx-escape-missing-components`](https://github.com/ipikuka/recma-mdx-escape-missing-components)
  — đặt giá trị mặc định là `() => null` cho các component thiếu thay vì
  ném ra lỗi
* [`remcohaszing/recma-mdx-is-mdx-component`](https://github.com/remcohaszing/recma-mdx-is-mdx-component)
  — thêm trường `isMdxComponent` vào các component MDX
* [`remcohaszing/recma-nextjs-static-props`](https://github.com/remcohaszing/recma-nextjs-static-props)
  — tạo [`getStaticProps`](https://nextjs.org/docs/basic-features/data-fetching/get-static-props)
  để expose các identifier cấp cao nhất trong Next.js
* [`remcohaszing/recma-module-to-function`](https://github.com/remcohaszing/recma-module-to-function)
  — chuyển đổi một module thành một function body
* [`remcohaszing/rehype-mdx-code-props`](https://github.com/remcohaszing/rehype-mdx-code-props)
  — diễn giải trường `meta` của code như JSX props
* [`remcohaszing/rehype-mdx-import-media`](https://github.com/remcohaszing/rehype-mdx-import-media)
  — thay đổi nguồn media thành các JavaScript imports
* [`remcohaszing/rehype-mdx-title`](https://github.com/remcohaszing/rehype-mdx-title)
  — expose tiêu đề trang dưới dạng string
* [`boning-w/rehype-mdx-toc`](https://github.com/boning-w/rehype-mdx-toc)
  — export dữ liệu mục lục vào module MDX
* [`pangelani/remark-mdx-chartjs`](https://github.com/pangelani/remark-mdx-chartjs)
  — thay thế các code block có fence bằng biểu đồ sử dụng [`react-chartjs-2`](https://react-chartjs-2.js.org/).
* [`remcohaszing/remark-mdx-frontmatter`](https://github.com/remcohaszing/remark-mdx-frontmatter)
  — thay đổi metadata frontmatter (YAML) thành exports
* [`goodproblems/remark-mdx-math-enhanced`](https://github.com/goodproblems/remark-mdx-math-enhanced)
  — nâng cao toán học với JavaScript bên trong nó

{/*
  * Vui lòng sắp xếp theo thứ tự bảng chữ cái theo tên **dự án**!
  * Bạn có thể sử dụng template này:
  *
  * ```markdown
  * * [`user/project`](https://github.com/user/project)
  *   — mô tả ngắn gọn về dự án
  * ```
  */}

<Note type="info">
  **Lưu ý**: Bạn có plugin unified khác *đặc biệt* hoạt động với MDX?
  Vui lòng gửi PR để thêm nó vào đây!
</Note>

## Sử dụng plugins

Nơi truyền plugins được mã hóa trong tên của chúng:
remark plugins đi vào `remarkPlugins`,
rehype plugins đi vào `rehypePlugins`,
và recma plugins đi vào `recmaPlugins` của
[`ProcessorOptions`][processor-options].
Các trường này mong đợi danh sách các plugin và/hoặc `[plugin, options]`:

```tsx twoslash
import {compile} from '@mdx-js/mdx'
import rehypeKatex from 'rehype-katex' // Render toán học với KaTeX.
import remarkFrontmatter from 'remark-frontmatter' // YAML và tương tự.
import remarkGfm from 'remark-gfm' // Bảng, chú thích, gạch ngang, danh sách tác vụ, URL trực tiếp.
import remarkMath from 'remark-math' // Hỗ trợ toán học như `$so$`.

const file = '# hi'

// Một plugin:
await compile(file, {remarkPlugins: [remarkGfm]})

// Một plugin với options:
await compile(file, {remarkPlugins: [[remarkFrontmatter, 'toml']]})

// Hai plugins:
await compile(file, {remarkPlugins: [remarkGfm, remarkFrontmatter]})

// Hai plugins, cái đầu có options:
await compile(file, {remarkPlugins: [[remarkGfm, {singleTilde: false}], remarkFrontmatter]})

// remark và rehype plugins:
await compile(file, {rehypePlugins: [rehypeKatex], remarkPlugins: [remarkMath]})

// remark và rehype plugins, cái cuối có options:
await compile(file, {
  // Một plugin với options:
  rehypePlugins: [[rehypeKatex, {strict: true, throwOnError: true}]],
  remarkPlugins: [remarkMath]
})
```

## Tạo plugins

Tạo một plugin cho MDX hầu như giống với việc tạo một plugin cho remark,
rehype, hoặc recma.
Có nhiều hướng dẫn và công thức về điều đó trong [§ Học tại
`unifiedjs.com`][learn].

Đối với các phần cụ thể của MDX trong plugins, nên đọc
[¶ Kiến trúc][architecture] để tìm hiểu cách `@mdx-js/mdx` hoạt động.
Để biết thông tin về các loại node đại diện cho các tính năng cụ thể của MDX, xem
[¶ Cây cú pháp trong `remark-mdx`][syntax-tree] và sử dụng
[§ Playground][playground] tương tác của chúng tôi.

[api]: /packages/mdx/#api

[architecture]: /packages/mdx/#architecture

[learn]: https://unifiedjs.com/learn/

[playground]: /playground/

[processor-options]: /packages/mdx/#processoroptions

[react-confetti]: https://github.com/alampros/react-confetti

[recma-plugins]: https://github.com/mdx-js/recma/blob/main/doc/plugins.md#list-of-plugins

[rehype-plugins]: https://github.com/rehypejs/rehype/blob/main/doc/plugins.md#list-of-plugins

[remark-gfm]: https://github.com/remarkjs/remark-gfm

[remark-plugins]: https://github.com/remarkjs/remark/blob/main/doc/plugins.md#list-of-plugins

[start]: /docs/getting-started/

[syntax-tree]: /packages/remark-mdx/#syntax-tree

[use]: /docs/using-mdx/
